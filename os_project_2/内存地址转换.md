# 内存地址转换

## 要求

- 学会使用bachs及vi的相关操作
- 运行一个设置了全局变量的循环程序，通过查看段寄存器，LDT表，GDT表等信息，经过一系列段、页地址转换，找到程序中该全局变量的物理地址。
- 掌握计算机寻址、页式地址转换和各种寄存器用法

## 相关知识

- 逻辑地址由段标识符（段选择符）和段内偏移量组成
- 段标识符16位，前13位为段描述符在段描述符表的索引，第14位为T1（表指示器），15到16位为RPL（请求者特权级）
- T1为0时段描述符在GDT（全局段描述符表），T1为1时段描述符在LDT（局部段描述符表）
- 每个段描述符由8个字节组成（64位）

- base字段：段于逻辑空间的的起始位置
- GDTR：寄存器，存放GDT在内存中的起始地址和大小
- $$ LDTR: \begin{cases}{LDT的起始地址存放在GDT中，LDTR中存放LDT在GDT中的索引}      &      & {T1=1,段描述符在LDT中}\\ {通过GDTR找到GDT，此时LDTR存放的是LDT的起始地址，但不会使用}     &      & {T1=0，段描述符在GDT中} \end{cases} $$



